class LazyScriptLoader{constructor(){this.scripts=[],this.selector='script[data-loading="lazy"][data-src]',this.interactionEvents=["mouseover","keydown","touchmove","touchstart","click"],this.loadAfterMsIfNoInteraction=5e3,this.loadTimer=null}init(){this.scripts=document.querySelectorAll(this.selector),this.scripts.length!==0&&(this.interactionEvents.forEach(event=>{document.addEventListener(event,this.startLoadingScripts.bind(this),{passive:!0})}),this.loadTimer=setTimeout(this.startLoadingScripts.bind(this),this.loadAfterMsIfNoInteraction))}startLoadingScripts(){clearTimeout(this.loadTimer),this.loadScripts(),this.interactionEvents.forEach(event=>{document.removeEventListener(event,this.startLoadingScripts.bind(this),{capture:!0})})}loadScripts(){this.scripts.forEach(script=>{script.dataset.loading!=="loaded"&&this.loadScript(script)})}loadScript(script){script.dataset.loading="loaded",script.src=script.dataset.src,script.removeAttribute("data-src"),console.log("loaded script",script.src)}}const loader=new LazyScriptLoader;window.onload=loader.init.bind(loader);
//# sourceMappingURL=/cdn/shop/t/96/assets/script-loader.js.map?v=154539937300947560541744203303
