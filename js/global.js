typeof window.Woolman>"u"&&(window.Woolman={}),Woolman.bind=function(fn,scope){return function(){return fn.apply(scope,arguments)}};let vh=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${vh}px`),window.addEventListener("resize",()=>{let vh2=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${vh2}px`)}),Woolman.init=function(){Woolman.ModalsAndDrawers.init(),Woolman.Header.init(),Woolman.Bundle.init(),theme.settings.enableWishlist&&Woolman.Wishlist.init();const currentCountryName=Woolman.geoInfo.countryJson.find(o=>o.isocode==Shopify.country)?.name;if(currentCountryName&&document.querySelectorAll("[data-current-country-name]").forEach(element=>{element.textContent=currentCountryName}),!Shopify||!Shopify.designMode)return;let lastSelection={sectionId:void 0,blockId:void 0};document.addEventListener("shopify:section:load",evt=>{const sectionId="shopify-section-"+evt.detail.sectionId;if(sectionId===Woolman.Header.cache.section.id&&(Woolman.ModalsAndDrawers.init(),Woolman.Header.init()),document.getElementById(sectionId).querySelector("slider-component")){const slider=document.getElementById(sectionId).querySelector("slider-component"),config=slider.dataset.splideConfig;if(!config)return;new Splide(slider,config)}else document.querySelector(`[data-modal][data-section-id="${evt.detail.sectionId}"]`)&&Woolman.ModalsAndDrawers.showModalOrDrawer(document.querySelector(`[data-modal][data-section-id="${evt.detail.sectionId}"]`).id);console.log("shopify:section:load sectionId",evt.detail.sectionId),console.log("lastSelection",lastSelection)}),document.addEventListener("shopify:block:select",evt=>{const sectionId="shopify-section-"+evt.detail.sectionId,selectedBlock=[...document.getElementById(sectionId).querySelectorAll("[data-shopify-editor-block]")].find(x=>JSON.parse(x.dataset.shopifyEditorBlock).id===evt.detail.blockId);if(sectionId===Woolman.Header.cache.section.id){if(selectedBlock){Woolman.Header.cache.openButton.click();const accordion=selectedBlock.closest("[data-accordion-item]").querySelector("input"),label=selectedBlock.closest("[data-accordion-item]").querySelector("label");accordion.checked||label.click()}}else sectionId.includes("modal")&&document.getElementById(sectionId).querySelector("[data-modal]")&&selectedBlock&&Woolman.ModalsAndDrawers.showModalOrDrawer(document.getElementById(sectionId).querySelector("[data-modal]").id);lastSelection.sectionId=evt.detail.sectionId,lastSelection.blockId=evt.detail.blockId,console.log("shopify:block:select",evt.detail.sectionId,evt.detail.blockId),console.log("lastSelection",lastSelection)}),document.addEventListener("shopify:section:unload",evt=>{console.log("shopify:section:unload sectionId",evt.detail.sectionId)}),document.addEventListener("shopify:section:select",evt=>{console.log("shopify:section:select",evt.detail.sectionId),lastSelection={sectionId:evt.detail.sectionId,blockId:evt.detail.blockId},evt.detail.sectionId.includes("modal")&&document.querySelector(`[data-modal][data-section-id="${evt.detail.sectionId}"]`)&&Woolman.ModalsAndDrawers.showModalOrDrawer(document.querySelector(`[data-modal][data-section-id="${evt.detail.sectionId}"]`).id),console.log("lastSelection",lastSelection)}),document.addEventListener("shopify:section:deselect",evt=>{console.log("shopify:section:deselect",evt.detail.sectionId),lastSelection={sectionId:void 0,blockId:void 0},evt.detail.sectionId.includes("modal")&&document.querySelector(`[data-modal][data-section-id="${evt.detail.sectionId}"]`)&&Woolman.ModalsAndDrawers.closeModalOrDrawer(document.querySelector(`[data-modal][data-section-id="${evt.detail.sectionId}"]`).id),console.log("lastSelection",lastSelection)})},Woolman.Utils={debugMode:!1,focusTraps:{},checkCanFocusTrap:trapContainers=>{const results=trapContainers.map(trapContainer=>new Promise(resolve=>{const interval=setInterval(()=>{getComputedStyle(trapContainer).visibility!=="hidden"&&(resolve(),clearInterval(interval))},5)}));return Promise.all(results)},onFocusTrapDeactivate:targetElement=>{targetElement.classList.remove("focus-trap"),document.body.classList.remove("focus-being-trapped")},onFocusTrapActivate:targetElement=>{targetElement.classList.add("focus-trap"),document.body.classList.add("focus-being-trapped")},clearFocusTrap:cacheKey=>{Woolman.Utils.focusTraps[cacheKey]&&(Woolman.Utils.focusTraps[cacheKey].deactivate(),Woolman.Utils.focusTraps[cacheKey]=void 0)},prepareQueryParams:()=>{if(Shopify.queryParams=Shopify.queryParams||{},location.search.length){const params=location.search.substr(1).split("&");for(let i=0;i<params.length;i++){const keyValue=params[i].split("=");keyValue.length&&(Shopify.queryParams[decodeURIComponent(keyValue[0])]=decodeURIComponent(keyValue[1]))}}return Shopify.queryParams},formatMoney(cents,format){var default_money_format=Woolman.moneyFormat;typeof cents=="string"&&(cents=cents.replace(".",""));var value="",placeholderRegex=/\{\{\s*(\w+)\s*\}\}/,formatString=format||default_money_format;function defaultOption(opt,def){return typeof opt>"u"?def:opt}function formatWithDelimiters(number,precision,thousands,decimal){if(precision=defaultOption(precision,2),thousands=defaultOption(thousands,","),decimal=defaultOption(decimal,"."),isNaN(number)||number==null)return 0;number=(number/100).toFixed(precision);var parts=number.split("."),dollars=parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+thousands),cents2=parts[1]?decimal+parts[1]:"";return dollars+cents2}switch(formatString.match(placeholderRegex)[1]){case"amount":value=formatWithDelimiters(cents,2);break;case"amount_no_decimals":value=formatWithDelimiters(cents,0);break;case"amount_with_comma_separator":value=formatWithDelimiters(cents,2,".",",");break;case"amount_no_decimals_with_comma_separator":value=formatWithDelimiters(cents,0,".",",");break}return formatString.replace(placeholderRegex,value)}},Woolman.Header={selectors:{header:"MainHeader",search:"[data-header-search]",searchOpen:`a[href="${routes.search_url}"]`,searchClose:".header-search__close",cartBlip:".cart-blip"},cache:{header:void 0,search:void 0,searchOpen:void 0,searchClose:void 0,cartBlip:void 0,section:void 0,openButton:void 0},focusTraps:{},init:function(){this.cache.header=document.getElementById(this.selectors.header),this.cache.search=this.cache.header.querySelector(this.selectors.search),this.cache.searchOpen=this.cache.header.querySelectorAll(this.selectors.searchOpen),this.cache.searchClose=this.cache.header.querySelector(this.selectors.searchClose),this.cache.cartBlip=this.cache.header.querySelector(this.selectors.cartBlip),this.cache.section=this.cache.header.closest(".shopify-section"),this.cache.openButton=this.cache.header.querySelector('[href="#drawer-menu"]'),this.cache.searchOpen&&this.cache.searchClose&&(this.cache.searchOpen.forEach(button=>{button.addEventListener("click",this.onSearchOpen.bind(this))}),this.cache.searchClose.addEventListener("click",this.onSearchClose.bind(this))),document.addEventListener("ajaxProduct:added",this.updateCartBlip.bind(this)),document.addEventListener("ajaxProduct:cleared",this.updateCartBlip.bind(this)),document.addEventListener("cart:update",this.updateCartBlip.bind(this)),this.cache.header.dataset.stickyBehavior!=="none"&&this.initStickyBehavior(this.cache.header.dataset.stickyBehavior)},onSearchOpen(event){event.preventDefault();const targetElement=this.cache.search;Woolman.Utils.focusTraps.search=focusTrap.createFocusTrap(targetElement,{escapeDeactivates:!0,checkCanFocusTrap:Woolman.Utils.checkCanFocusTrap,onActivate:()=>{targetElement.classList.add("is-open"),Woolman.Utils.onFocusTrapActivate(targetElement),bodyScrollLock.disableBodyScroll(targetElement),setTimeout(()=>{targetElement.classList.add("animation")})},onDeactivate:()=>{targetElement.classList.remove("animation"),bodyScrollLock.enableBodyScroll(targetElement),Woolman.Utils.onFocusTrapDeactivate(targetElement),setTimeout(()=>{targetElement.classList.remove("is-open")})}}),Woolman.Utils.focusTraps.search.activate()},onSearchClose(event){event.preventDefault(),Woolman.Utils.clearFocusTrap("search")},initStickyBehavior(behaviorType){const stickyConfig={headerHeight:this.cache.header.clientHeight,behavior:behaviorType};if(document.documentElement.classList.add("sticky-header-initialized",`sticky-header-${behaviorType}`),document.documentElement.style.setProperty("--sticky-header-margin-top",`${stickyConfig.headerHeight}px`),behaviorType==="scroll"||behaviorType==="fixed"){let prevScroll=window.scrollY||document.documentElement.scrollTop,curScroll,direction=0,prevDirection=0;const toggleStickyHeader=(direction2,curScroll2)=>{direction2===1||curScroll2<stickyConfig.headerHeight?document.documentElement.classList.remove("sticky-header-hide"):direction2===2&&curScroll2>stickyConfig.headerHeight&&document.documentElement.classList.add("sticky-header-hide"),prevDirection=direction2};window.addEventListener("scroll",throttle(()=>{curScroll=window.scrollY||document.documentElement.scrollTop,curScroll>=300?document.documentElement.classList.add("sticky-header-show"):document.documentElement.classList.remove("sticky-header-show"),curScroll>prevScroll?direction=2:direction=1,direction!==prevDirection&&behaviorType==="scroll"&&toggleStickyHeader(direction,curScroll),prevScroll=curScroll},50)),setInterval(()=>{direction===2&&behaviorType==="scroll"&&curScroll>=900&&toggleStickyHeader(direction,curScroll),window.scrollY===0&&document.documentElement.classList.remove("sticky-header-show","sticky-header-hide")},200)}},async updateCartBlip(e){const cart=e.detail.json&&e.detail.json.cart&&e.detail.json.cart.item_count||await async function(){return window.fetchCart()}(),bundlesList=new Set;let cartItemCount=0;for(const item of cart.items)if(item.properties&&item.properties._bundleKey!==void 0){const bundleKey=item.properties._bundleKey;bundlesList.has(bundleKey)||(bundlesList.add(bundleKey),cartItemCount+=item.quantity)}else cartItemCount+=item.quantity;this.cache.cartBlip.textContent=cartItemCount||0,cart&&cartItemCount==0?(this.cache.cartBlip.setAttribute("hidden",!0),this.cache.cartBlip.closest(".header-item__link").classList.remove("has-blip-visible")):(this.cache.cartBlip.removeAttribute("hidden"),this.cache.cartBlip.closest(".header-item__link").classList.add("has-blip-visible"))}},Woolman.ModalsAndDrawers={settings:{selectors:{modalLink:'a[href*="modal"]',drawerLink:'a[href*="drawer"]'}},focusTraps:{},init:function(){document.querySelectorAll(this.settings.selectors.modalLink).forEach(modalLink=>{modalLink.addEventListener("click",event=>{event.preventDefault();const targetId=event.currentTarget.getAttribute("href").substring(1);this.showModalOrDrawer(targetId)})}),document.querySelectorAll(this.settings.selectors.drawerLink).forEach(drawerLink=>{drawerLink.addEventListener("click",event=>{event.preventDefault();const targetId=event.currentTarget.getAttribute("href").substring(1);this.showModalOrDrawer(targetId)})})},showModalOrDrawer:function(targetId){const targetElement=document.getElementById(targetId);if(!targetElement&&Woolman.Utils.debugMode&&console.warn("No modal/drawer element specified"),!!targetElement&&!targetElement.classList.contains("is-open")){if(targetElement.classList.add("initialized","is-open"),!Woolman.Utils.focusTraps[targetId]){const trapTarget=targetElement.querySelector("[data-contents")||targetElement;Woolman.Utils.focusTraps[targetId]=focusTrap.createFocusTrap(trapTarget,{clickOutsideDeactivates:!0,escapeDeactivates:!0,onActivate:()=>{Woolman.Utils.onFocusTrapActivate(targetElement);const closeBtns=targetElement.querySelectorAll("[data-close]");if(closeBtns&&closeBtns.forEach(closeBtn=>{closeBtn.addEventListener("click",this.closeModalOrDrawerOrDrawerFromEvent.bind(this))}),targetId!="modal-geo"){const overlay=targetElement.querySelector("[data-overlay]");overlay&&overlay.addEventListener("click",this.closeModalOrDrawerOrDrawerFromEvent.bind(this))}bodyScrollLock.disableBodyScroll(targetElement),document.dispatchEvent(new CustomEvent(`drawerOrModalOpen.${targetId}`))},checkCanFocusTrap:Woolman.Utils.checkCanFocusTrap,onDeactivate:()=>{targetElement.querySelectorAll("[data-close]").forEach(closeBtn=>{closeBtn.removeEventListener("click",this.closeModalOrDrawerOrDrawerFromEvent.bind(this))});const overlay=targetElement.querySelector("[data-overlay]");overlay&&(overlay.click(),overlay.removeEventListener("click",this.closeModalOrDrawerOrDrawerFromEvent.bind(this))),bodyScrollLock.enableBodyScroll(targetElement),Woolman.Utils.onFocusTrapDeactivate(targetElement),document.dispatchEvent(new CustomEvent(`drawerOrModalClose.${targetId}`))}})}Woolman.Utils.focusTraps[targetId].activate()}},closeModalOrDrawer:function(targetId){Woolman.Utils.focusTraps[targetId]&&(Woolman.Utils.focusTraps[targetId].deactivate(),Woolman.Utils.focusTraps[targetId]=void 0)},closeModalOrDrawerOrDrawerFromEvent:function(event){event.preventDefault();const parentElement=event.currentTarget.closest("[data-parent]"),targetId=parentElement.getAttribute("id");parentElement.classList.remove("is-open"),this.closeModalOrDrawer(targetId)}},Woolman.Wishlist={settings:{cookieKey:"Woolman_Wishlist",selectors:{trigger:"[data-wishlist-trigger]",wishlistBlip:"[data-wishlist-blip]"}},init:function(){const wishlist=Cookies.get(this.settings.cookieKey)?Cookies.get(this.settings.cookieKey).split(","):[];document.querySelectorAll(this.settings.selectors.trigger).forEach(function(wishlistTrigger){wishlistTrigger&&!wishlistTrigger.dataset.mutated&&(wishlist.includes(wishlistTrigger.dataset.handle)&&wishlistTrigger.classList.add("active"),wishlistTrigger.addEventListener("click",event=>{event.preventDefault(),this.handleClick(event.currentTarget)}),wishlistTrigger.dataset.mutated=!0)}.bind(this)),document.addEventListener("card:loaded",event=>{event.detail.querySelectorAll(this.settings.selectors.trigger).forEach(function(wishlistTrigger){wishlistTrigger&&!wishlistTrigger.dataset.mutated&&(wishlist.includes(wishlistTrigger.dataset.handle)&&wishlistTrigger.classList.add("active"),wishlistTrigger.addEventListener("click",event2=>{event2.preventDefault(),this.handleClick(event2.currentTarget)}),wishlistTrigger.dataset.mutated=!0)}.bind(this))}),this.updateWishlistBlip()},updateWishlistBlip:function(){const wishlist=Cookies.get(this.settings.cookieKey)?Cookies.get(this.settings.cookieKey).split(","):[];document.querySelectorAll(this.settings.selectors.wishlistBlip).forEach(wishlistBlip=>{wishlistBlip.textContent=wishlist.length,wishlist.length==0?(wishlistBlip.setAttribute("hidden",!0),wishlistBlip.closest(".header-item__link")?.classList.remove("has-blip-visible")):(wishlistBlip.removeAttribute("hidden"),wishlistBlip.closest(".header-item__link")?.classList.add("has-blip-visible"))})},handleClick:function(wishlistTrigger){const productHandle=wishlistTrigger.dataset.handle;(Cookies.get(this.settings.cookieKey)?Cookies.get(this.settings.cookieKey).split(","):[]).includes(productHandle)?this.remove(productHandle):this.add(productHandle),document.querySelectorAll(`${this.settings.selectors.trigger}[data-handle="${productHandle}"]`).forEach(el=>{el.classList.toggle("active")})},add:function(productHandle){const wishlist=Cookies.get(this.settings.cookieKey)?Cookies.get(this.settings.cookieKey).split(","):[];wishlist.unshift(productHandle),Cookies.set(this.settings.cookieKey,wishlist.join(","));const event=new CustomEvent("wishlist:add",{detail:productHandle});document.dispatchEvent(event),this.updateWishlistBlip()},remove:function(productHandle){let wishlist=Cookies.get(this.settings.cookieKey)?Cookies.get(this.settings.cookieKey).split(","):[];wishlist=wishlist.filter(e=>e!==productHandle),Cookies.set(this.settings.cookieKey,wishlist.join(","));const event=new CustomEvent("wishlist:remove",{detail:productHandle});document.dispatchEvent(event),this.updateWishlistBlip()}},Woolman.Marketing={getUTMParametersFromURL:function(){const urlObj=new URL(window.location.href),utmParameters={};return urlObj.searchParams.forEach((value,key)=>{(key.startsWith("utm_")||key==="gclid")&&(utmParameters[key]=value)}),utmParameters}},Woolman.Bundle={settings:{selectors:{bundleCard:"[data-bundle-product]"}},init:function(){document.querySelectorAll(this.settings.selectors.bundleCard).forEach(function(card){this.updateBundleProductCard(card)}.bind(this)),document.addEventListener("card:loaded",event=>{event.detail.dataset.bundleProduct&&this.updateBundleProductCard(event.detail)})},addBundlePricesFromElement:function(element){element.querySelectorAll(this.settings.selectors.bundleCard).forEach(function(card){this.updateBundleProductCard(card)}.bind(this))},updateBundleProductCard:function(card){const productHandles=card.dataset.handles.split(","),discountPercentage=parseInt(card.dataset.discount)||0,fetchProduct=async handle=>{try{const rootUrl=window.Shopify.routes.root=="/"?"/":window.Shopify.routes.root+"/",data=await(await fetch(`${rootUrl}products/${handle}?view=bundle-child`)).text(),selectedVariant=new DOMParser().parseFromString(data,"text/html").querySelector("[data-selected-variant]").textContent,selectedVariantJson=JSON.parse(selectedVariant),{compare_at_price,price}=selectedVariantJson;return parseInt(compare_at_price||price)}catch(error){return console.log(error),0}};(async()=>productHandles.length===0?0:(await Promise.all(productHandles.map(fetchProduct))).reduce((sum,price)=>sum+price,0))().then(totalPrice=>{card.querySelector(".price-item--regular").innerHTML=window.variantStrings.price.from_price_html.replace("[price]",Woolman.Utils.formatMoney(totalPrice)),card.querySelector(".price-item--sale")&&(card.querySelector(".price-item--sale").innerHTML=window.variantStrings.price.from_price_html.replace("[price]",Woolman.Utils.formatMoney(totalPrice*((100-discountPercentage)/100))))}).catch(error=>console.log(error))},checkCart:async function(){const cart=await(await fetch(`${routes.cart_url}.json`)).json();cart.items.some(item=>item.properties._bundleLocale&&item.properties._bundleLocale!==Shopify.locale)&&this.updateLineItemProperties(cart.items)},updateLineItemProperties:async function(lineItems){const lineItemsByBundleKey=lineItems.reduce((accumulator,lineItem)=>{const bundleKey=lineItem.properties._bundleKey;return bundleKey&&(accumulator[bundleKey]||(accumulator[bundleKey]=[]),accumulator[bundleKey].push(lineItem)),accumulator},{}),bundleItems=Object.keys(lineItemsByBundleKey);for(const bundleKey of bundleItems){const lineItems2=lineItemsByBundleKey[bundleKey];lineItems2.sort((a,b)=>{const idsA=a.properties._bundleProductIds.split(","),idsB=b.properties._bundleProductIds.split(","),positionA=idsA.indexOf(a.product_id.toString()),positionB=idsB.indexOf(b.product_id.toString());return positionA-positionB});const productTitles=lineItems2.map(item=>item.product_title).join(","),variantTitles=lineItems2.map(item=>item.variant_title).join(","),properties={_bundleProductTitles:productTitles,_bundleVariantsTitles:variantTitles,_bundleLocale:Shopify.locale};for(const item of lineItems2){const response=await fetch(`${routes.cart_change_url}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:item.key,properties:Object.assign({},item.properties,properties)})})}document.dispatchEvent(new CustomEvent("cart:updateDrawer"))}}},Woolman.init();function debounce(fn,wait){let t;return(...args)=>{clearTimeout(t),t=setTimeout(()=>fn.apply(this,args),wait)}}function throttle(fn,wait){let t=!1;return(...args)=>{t||(fn.apply(this,args),t=!0,setTimeout(()=>t=!1,wait))}}let woolman_window_size=window.innerWidth;window.addEventListener("resize",debounce(()=>{window.innerWidth!=woolman_window_size&&(woolman_window_size=window.innerWidth,document.dispatchEvent(new CustomEvent("woolman:resize")))}),250),window.processingSplider=!1;class SpliderParent extends HTMLElement{constructor(){"use strict";super();const styles=getComputedStyle(this),perPage=parseInt(styles.getPropertyValue("--items-per-row-desktop"))||3,perPageTablet=parseInt(styles.getPropertyValue("--items-per-row-tablet"))||perPage,perPageMobile=parseInt(styles.getPropertyValue("--items-per-row-mobile"))||2,gap=styles.getPropertyValue("--gap")||getComputedStyle(document.documentElement).getPropertyValue("--grid-gap-product");this.hasAttribute("data-has-thumbnail")?(this.config={pagination:!1},this.thumbConfig={rewind:!0,isNavigation:!0,arrows:!1,gap,pagination:!1,perPage:4,dragMinThreshold:{mouse:4,touch:10}}):this.config=this.dataset.splide?JSON.parse(this.dataset.splide):{perPage,perMove:1,drag:"free",gap,snap:!0,autoWidth:!0,lazyLoad:"nearby",pagination:!1,arrows:!0,dragMinThreshold:50,flickPower:300,flickPages:1,breakpoints:{1023:{perPage:perPageTablet,arrows:!0},767:{perPage:perPageMobile,arrows:!1}}},this.el=this,this.splide=void 0,this.observer=new IntersectionObserver(entries=>{entries[0].isIntersecting&&this.downloadAndMount()});const mobileOnly=this.hasAttribute("data-mobile-only"),desktopOnly=this.hasAttribute("data-desktop-only");mobileOnly===!1&&desktopOnly===!1?this.allowMounting():(document.addEventListener("woolman:resize",()=>{this.checkIfCanMount(mobileOnly,desktopOnly)}),this.checkIfCanMount(mobileOnly,desktopOnly)),Shopify&&Shopify.designMode&&(this.el.dataset.splideConfig=JSON.stringify(this.config))}setupListeners(){const parentSection=this.closest(".shopify-section");parentSection.addEventListener("shopify:block:select",function(event){const blockSelectedIsSlide=event.target.classList.contains("splide__slide"),currentSliderId=event.target.closest("slider-component").dataset.id;if(!blockSelectedIsSlide||!this.splide||this.dataset.id!=currentSliderId)return;const index=parseInt(event.target.dataset.index);this.splide.go(index),this.splide.Components.Autoplay.pause()}.bind(this)),parentSection.addEventListener("shopify:block:deselect",function(event){const blockSelectedIsSlide=event.target.classList.contains("splide__slide"),currentSliderId=event.target.closest("slider-component").dataset.id;if(!blockSelectedIsSlide||!this.splide||this.dataset.id!=currentSliderId)return;this.splide.Components.Autoplay.play()}.bind(this))}checkIfCanMount(mobileOnly,desktopOnly){if(mobileOnly&&woolman_window_size<768){this.allowMounting();return}if(desktopOnly&&woolman_window_size>=768){this.allowMounting();return}this.disallowMounting()}allowMounting(skipClassGeneration=!1){skipClassGeneration||(this.classList.add("splide"),this.querySelectorAll("[data-class]").forEach(elem=>{elem.classList.add(elem.dataset.class.split(" "))})),this.hasAttribute("data-skip-observe")?this.downloadAndMount():this.observer.observe(this.el)}disallowMounting(){this.splide&&(this.splide.destroy(!0),this.el.classList.remove("is-initialized")),this.classList.remove("splide"),this.querySelectorAll("[data-class]").forEach(elem=>{elem.classList.remove(elem.dataset.class.split(" "))}),this.observer.unobserve(this.el)}downloadAndMount(){const sliderAssetUrl=theme.assets.slider,existingScript=document.querySelector(`script[src="${sliderAssetUrl}"]`);if(window.processingSplider){setTimeout(this.downloadAndMount.bind(this),200);return}if(existingScript){this.mountSlider();return}window.processingSplider=!0;const script=document.createElement("script");script.setAttribute("defer","true"),script.setAttribute("async","true"),script.src=sliderAssetUrl,document.body.append(script),script.addEventListener("load",()=>{this.mountSlider()})}mountSlider(){if(this.splide=new Splide(this.el,this.config),this.thumbConfig){const thumbEl=document.getElementById(this.getAttribute("data-has-thumbnail"));this.thumbSplide=new Splide(thumbEl,this.thumbConfig),this.splide.sync(this.thumbSplide)}this.splide.mount(),this.thumbSplide&&this.thumbSplide.mount(),this.querySelector(".natural")&&(this.splide.on("resize arrows:updated",this.updateHeight.bind(this)),this.updateHeight()),this.observer.unobserve(this.el),this.dispatchEvent(new CustomEvent("mounted",{detail:{splide:this.splide}})),Shopify.designMode&&this.setupListeners(),window.processingSplider=!1}updateHeight(){const slide=this.splide.Components.Slides.getAt(this.splide.index).slide;slide.parentElement.parentElement.style.height=slide.querySelector(".media").offsetHeight+"px"}}customElements.get("slider-component")===void 0&&customElements.define("slider-component",SpliderParent);class ProductSliderComponent extends SpliderParent{constructor(){super()}setActiveMedia(htmlElementId){const mediaNode=document.querySelector(`[data-media-id="${htmlElementId}"]`);if(!mediaNode)return;if(!mediaNode.classList.contains("splide__slide")){window.scrollTo({top:mediaNode.offsetTop,behavior:"smooth"});return}const mediaNodeIndex=parseInt(mediaNode.dataset.index-1)||0;this.splide.go(mediaNodeIndex)}}customElements.define("product-slider-component",ProductSliderComponent);class DisclosureSelect extends HTMLElement{constructor(){super();const ALPHANUMERIC={keyName:/^[a-z0-9]$/,keyCode:/^4[8-9]|5[0-7]|6[5-9]|[7-8][0-9]|90$/};this.elements={button:this.querySelector("button"),panel:this.querySelector(".disclosure__list-wrapper")},this.keysSoFar="",this.timeoutOn=!1,this.options=this.querySelectorAll(".disclosure__link:not([data-ignore])"),this.elements.button.addEventListener("click",this.openSelector.bind(this)),this.elements.button.addEventListener("focusout",this.closeSelector.bind(this)),this.addEventListener("keyup",this.onContainerKeyUp.bind(this)),this.options.forEach(item=>item.addEventListener("click",this.onItemClick.bind(this))),this.addEventListener("keypress",this.handleKey(ALPHANUMERIC,this.focusOnClosest.bind(this)).bind(this)),document.addEventListener("click",e=>{e.target.closest("disclosure-select")||this.hidePanel()});const mutationConfig={attributes:!0,childList:!0},callback=function(mutationsList){mutationsList.find(mutation=>mutation.type=="childList")&&this.querySelectorAll(".disclosure__link:not([data-ignore])").forEach(item=>item.addEventListener("click",this.onItemClick.bind(this)))}.bind(this);new MutationObserver(callback).observe(this.elements.panel.querySelector("ul"),mutationConfig)}hidePanel(){this.elements.button.setAttribute("aria-expanded","false"),this.elements.panel.setAttribute("hidden",!0)}onContainerKeyUp(event){event.code.toUpperCase()==="ESCAPE"&&(this.hidePanel(),this.elements.button.focus())}onItemClick(event){event.preventDefault(),this.querySelector(".disclosure__link--active")&&(this.querySelector(".disclosure__link--active").parentNode.setAttribute("aria-selected","false"),this.querySelector(".disclosure__link--active").classList.remove("disclosure__link--active")),event.currentTarget.classList.add("disclosure__link--active"),event.currentTarget.parentNode.setAttribute("aria-selected","true"),this.elements.button.querySelector(".disclosure-current").innerHTML=event.currentTarget.innerHTML,this.dispatchEvent(new CustomEvent("change",{detail:{element:event.currentTarget}})),this.hidePanel()}openSelector(){this.elements.panel.toggleAttribute("hidden"),this.elements.panel.querySelector("ul").focus(),this.elements.button.setAttribute("aria-expanded",(this.elements.button.getAttribute("aria-expanded")==="false").toString())}closeSelector(event){const shouldClose=event.relatedTarget&&event.relatedTarget.nodeName==="BUTTON";(event.relatedTarget===null||shouldClose)&&this.hidePanel()}handleKey(key,eventHandler){return event=>{event.preventDefault();const regexKey=new RegExp(key.keyName),regexKeyCode=new RegExp(key.keyCode);(regexKey.test(event.key)||regexKeyCode.test(event.keyCode))&&eventHandler(event)}}focusOnClosest(event){this.keysSoFar+=event.key,this.timeoutOn||(this.timeoutOn=!0,setTimeout(function(){const closestOption=Array.from(this.querySelectorAll(".disclosure__link:not([data-ignore])")).find(option=>option.textContent.trim().toLowerCase().startsWith(this.keysSoFar));closestOption&&closestOption.focus(),this.keysSoFar="",this.timeoutOn=!1}.bind(this),300))}}customElements.define("disclosure-select",DisclosureSelect);class SuperPoweredVideo extends HTMLElement{constructor(){super(),this.video=this.querySelector("video")||this.querySelector("iframe"),this.closest(".video-container")&&this.attachClickListener(this.closest(".video-container")),this.video.nodeName==="IFRAME"&&this.video.src&&this.video.src.includes("youtube")&&this.video.addEventListener("load",this.onVideoLoad.bind(this))}attachClickListener(videoContainer){videoContainer&&(videoContainer.addEventListener("click",e=>{this.video.paused?this.video.play():this.video.pause()}),this.video.onplay=()=>{videoContainer.querySelector("button").hidden=!0},this.video.onpause=()=>{videoContainer.querySelector("button").hidden=!1})}onVideoLoad(){this.video.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}}customElements.define("superpowered-video",SuperPoweredVideo);class ProductCardVariants extends HTMLElement{constructor(){super(),this.addEventListener("change",this.onVariantChange)}onVariantChange(e){this.updateOptions(),this.updateMasterId(),this.toggleAddButton(!0,"",!1),this.removeErrorMessage(),this.currentVariant?(this.updateVariantInput(),this.renderProductInfo()):(this.toggleAddButton(!0,"",!0),this.setUnavailable())}updateOptions(){this.options=Array.from(this.querySelectorAll("select"),select=>select.value)}updateMasterId(){this.currentVariant=this.getVariantData().find(variant=>!variant.options.map((option,index)=>this.options[index]===option).includes(!1))}updateVariantInput(){const input=document.getElementById(`product-form-${this.dataset.productId}`).querySelector('input[name="id"]');input.value=this.currentVariant.id,input.dispatchEvent(new Event("change",{bubbles:!0}))}removeErrorMessage(){const section=this.closest("section");if(!section)return;const productForm=section.querySelector("product-form");productForm&&productForm.handleErrorMessage()}toggleAddButton(disable=!0,text,modifyClass=!0){const productForm=document.getElementById(`product-form-${this.dataset.productId}`);if(!productForm)return;const addButton=productForm.querySelector('[name="add"]'),addButtonText=productForm.querySelector('[name="add"] > span');addButton&&(disable?(addButton.setAttribute("disabled","disabled"),text&&(addButtonText.textContent=text)):(addButton.removeAttribute("disabled"),this.dataset.isPreorder=="true"?addButtonText.textContent=window.variantStrings.preOrder:addButtonText.textContent=window.variantStrings.addToCart))}setUnavailable(){const productForm=document.getElementById(`product-form-${this.dataset.productId}`),addButton=productForm.querySelector('[name="add"]'),addButtonText=productForm.querySelector('[name="add"] > span'),price=document.getElementById(`price-${this.dataset.section}`);addButton&&(addButtonText.textContent=window.variantStrings.unavailable,price&&price.classList.add("hidden"))}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.querySelector('[type="application/json"]').textContent),this.variantData}renderProductInfo(){fetch(`${this.dataset.url}?variant=${this.currentVariant.id}&view=wishlist`).then(response=>response.text()).then(responseText=>{const html=new DOMParser().parseFromString(responseText,"text/html"),destination=document.getElementById(`price-${this.dataset.productId}`),source=html.getElementById(`price-${this.dataset.productId}`);source&&destination&&(destination.innerHTML=source.innerHTML);const price=document.getElementById(`price-${this.dataset.productId}`);price&&price.classList.remove("hidden"),this.toggleAddButton(!this.currentVariant.available,window.variantStrings.soldOut)})}}customElements.define("product-card-variants",ProductCardVariants);class ProductRecommendations extends HTMLElement{constructor(){super();const handleIntersection=(entries,observer)=>{entries[0].isIntersecting&&(observer.unobserve(this),fetch(this.dataset.url).then(response=>response.text()).then(text=>{const html=document.createElement("div");html.innerHTML=text;const recommendations=html.querySelector("product-recommendations");recommendations&&recommendations.innerHTML.trim().length&&(this.querySelector("[data-placeholder]")?this.querySelector("[data-placeholder]").innerHTML=recommendations.innerHTML:this.innerHTML=recommendations.innerHTML);const name=this.querySelector("header.section__header .heading").innerText.trim();setTimeout(()=>{const eventData={name,products:[]};this.querySelectorAll("[data-product-json]").forEach(product=>{eventData.products.push(JSON.parse(product.textContent))}),document.dispatchEvent(new CustomEvent("productListView",{detail:eventData})),this.querySelectorAll(".card--product").forEach((card,index)=>{const product=JSON.parse(card.querySelector("[data-product-json]").textContent);card.addEventListener("click",e=>{const clickEvent=new CustomEvent("productListClick",{detail:{name,product,index}});document.dispatchEvent(clickEvent)})})},0),html.querySelector(".grid__item")&&this.classList.add("product-recommendations--loaded")}).catch(e=>{console.error(e)}))};new IntersectionObserver(handleIntersection.bind(this),{rootMargin:"0px 0px 200px 0px"}).observe(this)}}customElements.define("product-recommendations",ProductRecommendations),function(){const updateCartQueue=[];window.updateCart=function(params){return updateCartQueue.push(params),new Promise((resolve,reject)=>{const interval=setInterval(()=>{updateCartQueue.indexOf(params)===0&&(clearInterval(interval),fetch("/cart/update.json",params).then(res=>resolve(res)).catch(err=>reject(err)).finally(()=>updateCartQueue.splice(0,1)))},25)})},window.fetchCart=async function(){const cart=await(await fetch("/cart.json")).json();return setTimeout(()=>{document.dispatchEvent(new CustomEvent("cart:fetch",{detail:cart}))}),cart},window.getCookieValue=function(name){const cookie=document.cookie.split(";").find(c=>c.trim().startsWith(`${name}=`));return cookie?decodeURIComponent(cookie.split("=")[1]):null},window.removeCookie=function(name){return window.getCookieValue(name)?(document.cookie=`${name}=;domain=.danielwellington.com;max-age=-1;samesite=strict;path=/`,!0):!1}}();const klarnaCountries=["FI","DE","AT","FR","IT","DK","NO","SE"];if(klarnaCountries.includes(window.Shopify.country)){const styleElement=document.createElement("style");styleElement.textContent=`
    klarna-placement::part(osm-container) {
      display: flex !important;
    }
  `,document.body.appendChild(styleElement)}
//# sourceMappingURL=/cdn/shop/t/96/assets/global.js.map?v=133798234042678835861744203289
